<div class="container">
  <ia-header>

  </ia-header>
  <div class="content">
    <h1>{{ 'regform.h1' | translate}}</h1>
    <p style="text-indent: 20px">
      Lorem ipsum dolor sit amet, consectetur adipisicing elit.
      Aperiam beatae doloremque dolorum magnam modi praesentium quas quo sed temporibus voluptatum.
    </p>
    <form class="reg-form" [formGroup]="form">
      <mat-form-field appearance="standard" class="form-control">
        <label class="necessary">{{ 'regform.name' | translate}}</label>
        <input matInput formControlName="userName" type="text" placeholder="{{ 'regform.name' | translate}}">
      </mat-form-field>

      <mat-form-field appearance="standard" class="form-control">
        <label class="necessary">{{ 'regform.surname' | translate}}</label>
        <input matInput formControlName="userLastName" type="text" placeholder="{{ 'regform.surname' | translate}}">
      </mat-form-field>

      <mat-form-field appearance="standard" class="form-control">
        <label>{{ 'regform.patronymic' | translate}}</label>
        <input matInput formControlName="userPatronymic" type="text" placeholder="{{ 'regform.patronymic' | translate}}">
      </mat-form-field>

      <mat-form-field appearance="standard" class="form-control">
        <label class="necessary">Email</label>
        <input matInput formControlName="userEmail" type="email" placeholder="{{ 'regform.email' | translate}} Email">
        <mat-error *ngIf="form.get('userEmail')?.hasError('email')">
          {{ 'regform.emailError' | translate}}
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="standard" class="form-control">
        <label class="necessary">{{ 'regform.phone' | translate}}</label>
        <input matInput formControlName="userPhoneNumber" type="tel" placeholder="{{ 'regform.phone' | translate}}">
        <mat-error>
          {{ 'regform.phoneError' | translate}}
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="standard" class="form-control">
        <label class="necessary">Skype</label>
        <input matInput formControlName="userSkype" type="text" placeholder="Skype">
      </mat-form-field>

      <div class="form-control" style="margin-top: 30px">
        <label class="necessary">{{ 'regform.englishlevel' | translate}}</label>
        <mat-radio-group
          aria-labelledby="radio-group-label"
          class="radio-group"
          formControlName="userEnglishLevel"
        >
          <mat-radio-button
            class="radio-button"
            color="primary"
            *ngFor="let level of getKeys(englishLevel)" [value]="level"
          >
            {{englishLevel[level]}}
          </mat-radio-button>
        </mat-radio-group>
      </div>

      <mat-form-field appearance="standard" class="form-control">
        <label class="necessary">{{ 'regform.country' | translate}}</label>
        <mat-select class="select-group" formControlName="userCountry">
          <mat-option *ngFor="let country of countries" [value]="country">
            {{country}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="standard" class="form-control">
        <label class="necessary">{{ 'regform.city' | translate}}</label>
        <mat-select class="select-group" formControlName="userCity">
          <mat-option *ngFor="let city of cities[form.get('userCountry')?.value]" [value]="city">
            {{city}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <form [formGroup]="formSelectorTime" class="form-control" style="margin-top: 30px">
        <label>{{ 'regform.comforttime' | translate}}</label>
        <div class="selector-time">
          <mat-form-field appearance="fill" class="selector-time-item">
            <mat-label>{{ 'regform.comforttimeFrom' | translate}}</mat-label>
            <mat-select formControlName="from">
              <mat-option
                *ngFor="let time of convenientTimeArray"
                [disabled]="time>formSelectorTime.controls['to'].value-1 && !!formSelectorTime.controls['to'].value"
                [value]="time"
              >
                {{time}}:00
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="fill" class="selector-time-item">
            <mat-label>{{ 'regform.comforttimeTo' | translate}}</mat-label>
            <mat-select formControlName="to">
              <mat-option
                *ngFor="let time of convenientTimeArray"
                [disabled]="time<formSelectorTime.controls['from'].value+1"
                [value]="time"
              >
                {{time}}:00
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </form>

      <mat-form-field appearance="standard" class="form-control">
        <label>{{ 'regform.experience' | translate}}</label>
        <textarea matInput
          cdkTextareaAutosize
          formControlName="userExperience"
          placeholder="{{ 'regform.experience' | translate}}"
          maxlength="1000"
        ></textarea>
      </mat-form-field>

      <mat-form-field appearance="standard" class="form-control">
        <label>{{ 'regform.education' | translate}}</label>
        <textarea matInput
          cdkTextareaAutosize
          formControlName="userExperience"
          placeholder="{{ 'regform.education' | translate}}"
          maxlength="1000"
        ></textarea>
      </mat-form-field>

      <div class="form-control" style="margin-top: 25px">
        <label>{{ 'regform.resume' | translate}}</label>
      </div>
      <div class="input-wrapper">
        <input id="select-file-button" type="file" placeholder="{{ 'regform.choosefile' | translate}}">
        <label>{{ 'regform.choosefile' | translate}}</label>
      </div>

      <mat-checkbox
        style="margin-top: 20px"
        formControlName="isConfirm"
        color="primary"
      >{{ 'regform.agree' | translate}}</mat-checkbox>
      <button id="submit-button"
        mat-flat-button color="primary"
        (click)="openDialog()"
        [disabled]="(form.valid && this.form.get('isConfirm')?.value)"
      >{{ 'regform.submit' | translate}}</button>
    </form>
  </div>
  <ia-footer>
  </ia-footer>
</div>
