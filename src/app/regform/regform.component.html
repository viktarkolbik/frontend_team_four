<div class="container">
  <ia-header>
    
  </ia-header>
  <div class="content">
    <h1>Регистрация на стажировку</h1>
    <p style="text-indent: 20px">
      Lorem ipsum dolor sit amet, consectetur adipisicing elit.
      Aperiam beatae doloremque dolorum magnam modi praesentium quas quo sed temporibus voluptatum.
    </p>
    <form class="reg-form" [formGroup]="form">
      <mat-form-field appearance="standard" class="form-control">
        <label class="necessary">Имя</label>
        <input matInput formControlName="userName" type="text" placeholder="Имя">
      </mat-form-field>

      <mat-form-field appearance="standard" class="form-control">
        <label class="necessary">Фамилия</label>
        <input matInput formControlName="userLastName" type="text" placeholder="Фамилия">
      </mat-form-field>

      <mat-form-field appearance="standard" class="form-control">
        <label>Отчество</label>
        <input matInput formControlName="userPatronymic" type="text" placeholder="Отчество">
      </mat-form-field>

      <mat-form-field appearance="standard" class="form-control">
        <label class="necessary">Email</label>
        <input matInput formControlName="userEmail" type="email" placeholder="Валидный Email">
        <mat-error *ngIf="form.get('userEmail')?.hasError('email')">
          Введите корректный email
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="standard" class="form-control">
        <label class="necessary">Мобильный телефон</label>
        <input matInput formControlName="userPhoneNumber" type="tel" placeholder="Мобильный телефон">
        <mat-error>
          Минимальная длина 10 символов
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="standard" class="form-control">
        <label class="necessary">Skype</label>
        <input matInput formControlName="userSkype" type="text" placeholder="Skype">
      </mat-form-field>

      <div class="form-control" style="margin-top: 30px">
        <label class="necessary">Уровень английского</label>
        <mat-radio-group
          aria-labelledby="radio-group-label"
          class="radio-group"
          formControlName="userEnglishLevel"
        >
          <mat-radio-button
            class="radio-button"
            color="primary"
            *ngFor="let level of getKeys(englishLevel)" [value]="level"
          >
            {{englishLevel[level]}}
          </mat-radio-button>
        </mat-radio-group>
      </div>

      <mat-form-field appearance="standard" class="form-control">
        <label class="necessary">Страна</label>
        <mat-select class="select-group" formControlName="userCountry">
          <mat-option *ngFor="let country of countries" [value]="country">
            {{country}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="standard" class="form-control">
        <label class="necessary">Город</label>
        <mat-select class="select-group" formControlName="userCity">
          <mat-option *ngFor="let city of cities[form.get('userCountry')?.value]" [value]="city">
            {{city}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <form [formGroup]="formSelectorTime" class="form-control" style="margin-top: 30px">
        <label>Удобное время</label>
        <div class="selector-time">
          <mat-form-field appearance="fill" class="selector-time-item">
            <mat-label>От</mat-label>
            <mat-select formControlName="from">
              <mat-option
                *ngFor="let time of convenientTimeArray"
                [disabled]="time>formSelectorTime.controls['to'].value-1 && !!formSelectorTime.controls['to'].value"
                [value]="time"
              >
                {{time}}:00
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="fill" class="selector-time-item">
            <mat-label>До</mat-label>
            <mat-select formControlName="to">
              <mat-option
                *ngFor="let time of convenientTimeArray"
                [disabled]="time<formSelectorTime.controls['from'].value+1"
                [value]="time"
              >
                {{time}}:00
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </form>

      <mat-form-field appearance="standard" class="form-control">
        <label>Опыт</label>
        <textarea matInput
          cdkTextareaAutosize
          formControlName="userExperience"
          placeholder="Опыт"
          maxlength="1000"
        ></textarea>
      </mat-form-field>

      <mat-form-field appearance="standard" class="form-control">
        <label>Образование</label>
        <textarea matInput
          cdkTextareaAutosize
          formControlName="userExperience"
          placeholder="Образование"
          maxlength="1000"
        ></textarea>
      </mat-form-field>

      <div class="form-control" style="margin-top: 25px">
        <label>Резюме</label>
      </div>
      <div class="input-wrapper">
        <input id="select-file-button" type="file" placeholder="Выберите файл">
        <label>Выберите файл</label>
      </div>

      <mat-checkbox
        style="margin-top: 20px"
        formControlName="isConfirm"
        color="primary"
      >Согласие</mat-checkbox>
      <button id="submit-button"
        mat-flat-button color="primary"
        (click)="submit()"
        [disabled]="!(form.valid && this.form.get('isConfirm')?.value)"
      >Отправить</button>
    </form>
  </div>
</div>
